/*!
 * uniGUI Library extension for Ext JS
 * by Farshad Mohajeri  
 * Copyright(c) 2009-2017 FMSoft Inc.
 * info@fmsoft.net
 * http://www.unigui.com
 !*/
var eventDLM="\3";function uniGetValues(form){var values=form.getValues(false,true,false,true),res="",val="",encoder=encodeURIComponent;for(var propertyName in values){var ffield=null;try{ffield=eval(propertyName)}catch(err){ffield=null}if(ffield&&ffield.getValue&&!ffield.fieldEditBusy){if(ffield.submitState==undefined){ffield.submitState=0}else{ffield.submitState++}ffield.submitState%=65535;ffield.submittedValue=ffield.getValue();if(typeof ffield.originalValue!="object"){ffield.originalValue="\0"}else{if(ffield.getXTypes().indexOf("checkboxgroup")>0){_sdb_(ffield)}else{if(Ext.isDate(ffield.originalValue)){ffield.originalValue.setFullYear(0)}}}var stVal="";if(ffield.stateValue!=undefined){stVal=ffield.stateValue}var stSub=ffield.submitState.toString(16);ffield.fieldEdited=false;if(ffield.uniFmtObj){val=ffield.getValue()}else{if(ffield.isXType("timefield")){val=_ts_(ffield.getValue())}else{if(ffield.isXType("datefield")){val=_ds_(ffield.getValue())}else{if(ffield.isXType("ux-codemirror")||ffield.isXType("canvasfield")){val=ffield.getValue()}else{val=values[propertyName]}}}}if(Ext.isArray(val)){val=val.join(";")}if(val==null){val=""}res+="&"+encoder(propertyName)+"="+encoder("\2"+stSub+"\2"+stVal+"\2"+val)}}return(res)}function _sdb_(d){if(d.getBoxes){var c=d.getBoxes(),a,e=c.length;for(a=0;a<e;a++){c[a].originalValue=undefined}}}function _cgds_(b,a){delete b.dirtyRow;if(a){b.hideMask(true)}}function xlatRow(a){var b=a.record;if(b&&b.data._d){var c=b.data._d;if(a.rowIdx&2147483648){c|=2147483648}return(c)}return a.rowIdx}function xlatRecRow(a,c){if(c&&c.data._d){var b=c.data._d;if(a&2147483648){b|=2147483648}return(b)}return a}function getRecNo(c,b){if(c&&c.data){var a=c.data._r;if(Ext.isNumber(a)){return a}if(b||Ext.isNumber(b)){a=c.data["_r"+b];if(Ext.isNumber(a)){return a}}}return undefined}function _getrno_(b,a){var c=getRecNo(b,a);if(c==undefined){return -1}}function _src_(l,j,b,m,i,d,c){var g=null,h=null,a=l.grid,f=null;if(j===null){if(a){if(i.length==1){f=i[0]}else{f=a.selModel.getLastFocused();if(!f){if(Ext.isArray(i)&&i.length){f=i[i.length-1]}}}if(f){j=a.selModel.views[0].indexOf(f)}}}if(j===null){j=-1}b=parseInt(b);if(Ext.isNumber(b)){g=eventDLM+j+eventDLM+b}else{g=eventDLM+j+eventDLM+"NaN"}l.currRow=j&2147483647;if(b){l.currCol=b}try{if(l.grid&&!l.grid.verticalGrid&&Ext.isObject(l.grid.dirtyRow)){if(l.grid.dirtyRow.row!=l.currRow&&l.grid.dirtyRow.rec.dirty){delete l.grid.dirtyRow;if(l.grid.loadDataMask&&l.grid.loadDataMask.uniMask&&l.grid.loadDataMask.uniMask.ldMask){if(c==true){l.grid.maskPending=true}else{l.grid.showMaskCfg(l.grid.loadDataMask.uniMask,true);g=g+eventDLM+"X"}}}}else{if(!c&&l.grid.maskPending){l.grid.maskPending=false;l.grid.showMaskCfg(l.grid.loadDataMask.uniMask,true);g=g+eventDLM+"X"}}}finally{g=g+eventDLM;if(Ext.isArray(i)){var q="",e=null;if(a){if(i.length==1){e=getRecNo(i[0],b)}else{var k=a.selModel.getLastFocused();if(!k&&i.length){k=i[i.length-1]}if(k){e=getRecNo(k,b)}}if(e!==null){q=e+","}}Ext.Array.each(i,function(n){var r=getRecNo(n,b);if(n.data&&Ext.isNumber(r)){q+=r+","}});q=q.slice(0,-1);g=g+"["+q+"]"+eventDLM}else{var o=getRecNo(i,b);if(i&&i.data&&Ext.isNumber(o)){g=g+"["+o;if(d===true){g=g+",-1"}g=g+"]"+eventDLM}}l.setValue(g);if(m){l.submittedValue=l.originalValue=g}}if(l.grid&&l.grid.fxRows&&j<l.grid.fxRows){return(false)}return(true)}function _sfv_(c,b,a){c.fieldEdited=false;if(c.submitState==b||c.submitState==undefined||b==undefined){if(a!==undefined){c.suspendEvent("change");try{c.setValue(a)}finally{c.resumeEvent("change")}}if(c.resetOriginalValue){c.resetOriginalValue()}else{c.originalValue=c.getValue()}if(Ext.isDate(c.getValue())){c.lastValue=c.getValue()}else{c.lastValue=(c.getRawValue?c.getRawValue():c.getValue())}c.submittedValue=undefined}else{if(a!==undefined){c.suspendEvent("change");try{c.setValue(a)}finally{c.resumeEvent("change")}}}}function _rsov_(b,a){if((b.submitState!==undefined)&&(b.submitState<=a)&&(b.submittedValue!==undefined)){if(b.getXTypes&&b.getXTypes().indexOf("checkboxgroup")>0){b.resetOriginalValue();return}b.originalValue=b.submittedValue}}function _asst_(a){if(a&&a.beforeBlur){a.beforeBlur()}return""}function _d_(b){try{if(typeof b=="object"&&b&&b.destroy){b.destroy()}}catch(a){}}function _cls_(a){if(a&&a.boundList){a.boundList.getSelectionModel().selected.clear()}}var __gcinfo__="";function _gci_(){if(__gcinfo__!=""){return(__gcinfo__)}var f=0,e=0,d=0;var c=1,a=0;function g(b){if(b){f|=c}c<<=1}g(Ext.isChrome);g(Ext.isGecko);g(Ext.isIE);g(Ext.isOpera);g(Ext.isSafari);g(Ext.isWebKit);e=f;c=1;f=0;g(Ext.isLinux);g(Ext.isMac);g(Ext.isWindows);d=f;__gcinfo__="br="+e.toString(10)+";os="+d.toString(10)+";";if(Ext.firefoxVersion){a=Ext.firefoxVersion}else{if(Ext.ieVersion){a=Ext.ieVersion}else{if(Ext.chromeVersion){a=Ext.chromeVersion}else{if(Ext.safariVersion){a=Ext.safariVersion}else{if(Ext.webKitVersion){a=Ext.webKitVersion}}}}}if(a===0){if(Ext.isIE9){a=9}else{if(Ext.isIE10){a=10}else{if(Ext.isIE11){a=11}}}}__gcinfo__+="bv="+a.toString(10);return(__gcinfo__)}function fobj2style(e,b,d){if(e.fc||e.ft||e.b){var c='style="';if(e.fc){c+="color:"+e.fc+";"}if(e.ft){c+="font:"+e.ft+";"}if(b!==true){if(e.b){c+="background-color:"+e.b+(d?" !important":"")+";"}}return(c+'"')}return null}function getColFromIndex(c,a,e){var h=null,g=null;if(a){if(e){var d=a.ownerCt,f=d.ownerCt;if(f&&f.lockedGrid){g=[];if(f.lockedGrid.view.getCachedColumns){g=f.lockedGrid.view.getCachedColumns()}if(f.normalGrid){if(f.normalGrid.view.getCachedColumns){g=g.concat(f.normalGrid.view.getCachedColumns())}}}}h=g;if(h==null){if(a.getCachedColumns){h=a.getCachedColumns()}}if(!h){return null}var b=h[c];if(!b){return null}return b}return null}function _getsum_(b,h,g){if(b&&b.length){var a=(g&&g.ftotal),j=b[0].store;var e=b[b.length-1].data;var f={};for(key in e){var c="_s";if(a){c="_st"}c=c+key;var i="_s"+key;if(e[c]){f[i]=e[c]}var c="";if(a){c="_sta"}else{c="_sa"}c=c+key;var i="_sa"+key;if(e[c]){f[i]=e[c]}}return f}return null}if(Ext.getVersion().major==4&&Ext.getVersion().shortVersion>="4241581"){var _rndsum_=function(value,summaryData,dataIndex,metaData){if(value&&typeof value=="object"){var v=value["_s"+dataIndex],va=value["_sa"+dataIndex],sty=null;if(va){try{eval("var fobj="+va+";")}catch(err){_log(err.message)}if(typeof fobj!="object"){var fobj={}}sty=fobj2style(fobj,false,true)}if(sty){metaData.tdAttr=sty}return(v)}return""}}else{var _rndsum_=function(value,metaData,record,rowIndex,colIndex,store,view){var sty=null,dataIndex=-1;cc=getColFromIndex(colIndex,view);if(cc){dataIndex=cc.dataIndex}else{return"ERROR_3"}if(value&&typeof value=="object"){var v=value["_s"+dataIndex];var va=value["_sa"+dataIndex];if(va){try{eval("var fobj="+va+";")}catch(err){}if(typeof fobj!="object"){var fobj={}}sty=fobj2style(fobj,false,true)}if(sty){metaData.tdAttr=sty}return(v)}return""}}function cnv2number(c,a,b){if(typeof c=="number"){return c}if(b!=""){c=c.replace(new RegExp("\\"+b,"g"),"")}c=c.replace(a,".");return c.replace(/[^\d.-]/g,"")}function _rndcll_(g,c,b,i,f,d,a){try{return internalRender(g,c,b,i,f,d,a)}catch(h){return h.message}}function _rndECcll_(g,c,b,i,f,d,a){try{return internalRender(g,c,b,i,f,d,a,true)}catch(h){return h.message}}function findVirtualCol(c,b){var a=null;Ext.Array.each(c,function(d){if(d.dataIndex==b){a=d;return false}});return a}function setColData(f,e,a){var b=0;if(Ext.isNumber(f)){f=f.toString()}for(var d in e){var c=a.getAt(b++);if(c){c.noEvent=true;try{c.set(f,e[d])}finally{c.noEvent=false}}}}function internalRender(value,metaData,record,rowIndex,colIndex,store,view,checkBoxEditor){var colAttr="{}",DefColDf="d/m/Y",DefColTf="H:i:s",dVal=null,colType="",col=null,extCol=null,colFmt=null,noBg=true,fxCell=false,mstyle="",mcls="",dataIndex=-1,vertGrid=false,recId=null,gg=null;gg=store.grid;if(!gg&&store.store){gg=store.store.grid}if(!gg&&store.treeStore){gg=store.treeStore.grid}if(gg){vertGrid=Ext.isArray(gg.dbColumns)}extCol=col=getColFromIndex(colIndex,view,checkBoxEditor);if(!col){return"ERROR_1"}if(vertGrid){if(!col||col.dataIndex!="l"){var _d=record.data._d;col=findVirtualCol(gg.dbColumns,_d)}}if(!col){return"ERROR_2"}if(col.checkColumn){extCol.myview=view;var s="&#160;";if(col.cf&&typeof col.cf=="object"){if(typeof value=="boolean"){s+=col.cf[value]}}var cssPrefix=Ext.baseCSSPrefix,cls=cssPrefix+"grid-checkcolumn";if(col.disabled||col.rdonly){metaData.tdCls+=" "+col.disabledCls}if(value){cls+=" "+cssPrefix+"grid-checkcolumn-checked"}cRow=rowIndex;if(vertGrid){recId=record.data._d;cRow=recId}else{recId=record.getId()}var outhtml='<div id="'+store.nm+cRow+"_"+colIndex+'">';outhtml+='&#160;<img class="'+cls+'" src="'+Ext.BLANK_IMAGE_URL+'" style="vertical-align:middle;" '+((col.checkSelectable===false)||col.rdonly||checkBoxEditor?"":' onclick="'+extCol.nm+".checkClick(this,"+extCol.nm+","+cRow+","+colIndex+","+recId+');"')+" />";outhtml+=s+"</div>";mstyle+="padding:1px 1px;";value=outhtml}dataIndex=col.dataIndex;if(gg){if(col.fxCol){fxCell=true}else{if(gg.fxCols&&dataIndex<gg.fxCols){fxCell=true}else{if(gg.fxRows&&rowIndex<gg.fxRows){fxCell=true}}}if(gg.xcursor){mstyle+="cursor:"+gg.xcursor+";"}}colAttr=col.attr;if(!colAttr||colAttr==""){colAttr="{}"}if(extCol!=col){if(colAttr=="{}"){colAttr=extCol.attr}}if(!colAttr||colAttr==""){colAttr="{}"}colFmt=col.cf;colType=col.ct;if(!colFmt){colFmt=null}if(!colType){colType=""}var cellAttr=null;if(record.data._x==1){cellAttr=record.data["_"+dataIndex]}if(cellAttr&&typeof cellAttr=="object"){dVal=cellAttr.d;cellAttr=cellAttr.a}if(!cellAttr||cellAttr==""){cellAttr="{}"}if(cellAttr!="{}"||colAttr!="{}"){try{eval("var cea="+cellAttr+";")}catch(err){}try{eval("var coa="+colAttr+";")}catch(err){}if(typeof cea!="object"){var cea={}}if(typeof coa!="object"){var coa={}}if(!cea.b){cea.b=coa.b}if(!cea.fc){cea.fc=coa.fc}if(!cea.ft){cea.ft=coa.ft}noBg=!cea.b;var sty=fobj2style(cea);if(sty){metaData.tdAttr=sty}if(cea.fs){mstyle+=cea.fs}if(cea.fcls){mcls=cea.fcls}}if(fxCell&&noBg){if(gg.fxColor){mstyle+="background-color:"+gg.fxColor+";"}else{metaData.tdCls="x-theme-color"}}if(mcls){metaData.tdCls=mcls}if(mstyle){metaData.style=mstyle}if(dVal!=null){return(dVal)}switch(colType){case"":return(value);case"number":case"float":if(colFmt){var nn=Ext.util.Format.number,isStr=(typeof value=="string");if(isStr){value=value.replace(Ext.util.Format.decimalSeparator,".")}if(colFmt[0]=="$"){colFmt=colFmt.substring(1);if(value<0){value=-value;return("-"+nn(value,colFmt))}}var nRes=nn(value,colFmt);if(isStr&&nRes==""){return(value)}return(nRes)}return(value);case"boolean":if(typeof value=="boolean"){if(colFmt&&typeof colFmt=="object"){return(colFmt[value])}}return(value);case"datetime":if(value&&value.getDate){var defFmt=false;if(!colFmt){defFmt=true;colFmt=DefColDf}if(colFmt.substr(0,2)=="**"){defFmt=true;colFmt=colFmt.slice(2)}if(defFmt){var hm=Ext.Date.format(value,"His");if(hm=="000000"){return(Ext.Date.format(value,colFmt))}else{return(Ext.Date.format(value,colFmt+" H:i:s"))}}else{return(Ext.Date.format(value,colFmt))}}if(value==null){value=""}return(value);case"time":if(value&&value.getDate){if(!colFmt){colFmt=DefColTf}return(Ext.Date.format(value,colFmt))}if(value==null){value=""}return(value);case"date":if(value&&value.getDate){if(!colFmt){colFmt=DefColDf}return(Ext.Date.format(value,colFmt))}if(value==null){value=""}return(value);default:return(value)}}Ext.override(Ext.picker.Date,{setValue:function(b){var a=this.callParent(arguments);if(this.hfield){this.hfield.setValue(Ext.Date.format(this.getValue(),"dmY"))}return a}});Ext.override(Ext.form.field.Radio,{getModelData:function(){var b={};var a=this.getSubmitValue();if(!a){this.originalValue="\0";return null}if(this.nm){b[this.nm]=a}else{if(this.ownerCt&&this.ownerCt.nm){b[this.ownerCt.nm]=a}else{b[this.name]=a}}return b}});Ext.override(Ext.form.field.ComboBox,{setValue:function(a){if(this.store&&!this.store.data.length){this.store.add({})}this.callParent(arguments)},setRawValue:function(a){if(a=="&nbsp;"){a=""}this.callParent([a])}});function _sf2me_(a){var a=_gmo_(a);if(a&&a.uform){if(uniVars._actFrm_!=a.uform){uniVars._actFrm_=a.uform}a.uform.activeField=a;_sfc_(a)}}Ext.override(Ext.Component,{onFocus:Ext.Function.createSequence(Ext.form.Field.prototype.onFocus,function(){_sf2me_(this)})});Ext.override(Ext.view.BoundList,{getRefItems:function(){var b=this,a=[];if(b.pagingToolbar){a.push(b.pagingToolbar)}if(Ext.isObject(b.loadMask)){a.push(b.loadMask)}return a}});if(Ext.ux.form.MultiSelect){Ext.override(Ext.ux.form.MultiSelect,{uniFocus:function(){_sf2me_(this)},initComponent:function(){this.callParent();this.on("change",this.uniFocus,this);this.on("click",this.uniFocus,this)},on:function(a,d,c,b){if(a=="keypress"||a=="keydown"||a=="keyup"){if(this.bodyEl){return this.bodyEl.on(a,d,this,b)}}return this.callParent(arguments)}})}Ext.override(Ext.grid.Panel,{bPlugin:null,initComponent:function(){var a=this;a.callParent();a.addListener("afterrender",a.checkRender,a)},checkRender:function(){var a=this;if(a.pendingPos){_gsc_(a.cellModel,a.pendingPos.row,a.pendingPos.column);delete a.pendingPos}},on:function(b,e,d,c){if(b=="keypress"||b=="keydown"||b=="keyup"){var a=this.getView();if(a){return a.addElListener(b,e,a,c)}}return this.callParent(arguments)},loadX:function(b,c,a){if(this.store.getCount()==0){this.store.load({params:{start:b,options:a}})}else{if(!this.bPlugin){bPlugin=this.getPlugin("bufferRenderer")}if(bPlugin){bPlugin.scrollTo(b,c)}}},uniConfigColumns:function(){var a;a=this;if(this.lockedGrid){a=this.lockedGrid;var b=this.lockedGrid.getPlugin("uniGridEditor");if(b){b.onReconfigure()}}if(this.normalGrid){a=this.normalGrid;var b=this.normalGrid.getPlugin("uniGridEditor");if(b){b.onReconfigure()}}if(this.view&&this.view.getCachedColumns){this.view.getCachedColumns(true)}},focus:function(e){var a=this.getView();if(a){if(a.focus){_sfc_(this,true);a.focus(arguments);if(Ext.isNumber(e)){a.focusRow(e)}else{var d=this.selModel.getCurrentPosition();if(d){if(this.selModel===this.cellModel){a.focusCell(d)}else{var c,b=this.selModel.getLastFocused();if(b){c=this.selModel.views[0].indexOf(b);if(c){a.focusRow(c)}}}}}}else{if(this.normalGrid){this.normalGrid.focus(arguments)}}}},doKeyNav:function(a){var b=uniVars._actCnt;if(!a){if(b==this){uniSyncObj._globalKbEn=false}if(this.selModel&&this.selModel.keyNav){this.selModel.keyNav.disable()}}else{uniSyncObj._globalKbEn=true;if(this.selModel&&this.selModel.keyNav){this.selModel.keyNav.enable()}}},showMask:function(c,b,a){this.doKeyNav(false);this.callParent(arguments)},showMaskCfg:function(a,b){this.doKeyNav(false);this.callParent(arguments)},hideMask:function(a){try{this.callParent(arguments)}finally{this.doKeyNav(true)}}});function gridLoadCallback(){if(this.grid){this.grid.focusDisabled=false;if(this.grid.selModel){this.grid.selModel.lastSelectedRec=null;if(this.grid.selModel.resumeEvents){this.grid.selModel.resumeEvents()}}}var a=uniVars._maskObjs;if(a.length){for(var b=a.length-1;b>=0;b--){var d=a[b];if(d){if(d.c){d.c--}if(d.c==0){try{if(d.u){d.maskActive=false;try{d.u.hide();d.u.destroy()}catch(c){_log(c.message);_log(d)}}}finally{a.splice(b,1)}}}}}}Ext.override(Ext.data.Store,{load:function(){var c=this;try{if(c.dbgrid){if(c.grid){c.grid.focusDisabled=true;if(c.grid.loadDataMask&&c.grid.loadDataMask.uniMask&&c.grid.loadDataMask.uniMask.ldMask){c.grid.showMaskCfg(c.grid.loadDataMask.uniMask,true)}if(c.grid.selModel&&c.grid.selModel.suspendEvents){c.grid.selModel.suspendEvents(false)}}if(!c.proxy||c.proxy.type!="ajax"){return}if(c.hasUniListener!==true){c.hasUniListener=true;c.addListener("load",gridLoadCallback,c)}var a=uniVars._maskObjs;if(a.length){for(var b=a.length-1;b>=0;b--){var d=a[b];if(d.cf&&d.cf.maskWaitData){if(d.u){d.u.mustWaitData=true}d.c++}}}}}finally{c.callParent(arguments)}}});Ext.override(Ext.grid.View,{initComponent:function(){var a=this;a.callParent();function b(d){if(d){var e=d.ownerCt;if(e){if(e.nm){return(e)}e=e.ownerCt;if(e&&e.nm){return(e)}}}}a.on("itemkeydown",function(){_sfc_(b(this))});a.on("itemmousedown",function(){_sfc_(b(this))})}});Ext.override(Ext.grid.plugin.HeaderResizer,{afterHeaderRender:function(){this.callParent(arguments);if(this.tracker){this.tracker.constrainModes.point=this.point}},point:function(b,d){var c=b.dragRegion,a=b.getConstrainRegion();if(!a){return d}c.x=c.left=c[0]=c.right=d[0];c.y=c.top=c[1]=c.bottom=d[1];return[c.left,c.top]}});Ext.override(Ext.view.View,{onItemKeyDown:function(a,d,b,f,c){this.callParent(arguments);_prkeyd_("text",f.getKey(),_pss_(f),false,null,false,f)}});Ext.override(Ext.view.Table,{getCachedColumns:function(a){if(a){delete this.cachedColumns}if(this.cachedColumns){return this.cachedColumns}else{var b=this.ownerCt;if(b.getColumnManager){this.cachedColumns=b.getColumnManager().getColumns()}else{this.cachedColumns=this.getGridColumns()}return this.cachedColumns}},getGridColumns:function(){delete this.cachedColumns;return this.callParent(arguments)},focusCell:function(){var b=this;var a=b.ownerCt;if(a){if(!a.nm){a=a.ownerCt}if(a&&a.nm){if(uniVars._actCnt&&uniVars._actCnt!=a){return b}}}return b.callParent(arguments)}});function _trnd_(i,b,c,f,k,j,g){var e=c.data;if(e){if(e.fc||e.ft){var h='style="';if(e.fc){h+="color:"+e.fc+";"}if(e.ft){h+="font:"+e.ft+";"}b.tdAttr=h+'"'}}return(i)}function _htnr_(a,c,d,b){d.ui._pr=d.ui.render;d.ui.render=function(f){this._pr(f);var g=this.getTextEl();var e=this.node.attributes;if(g){if(!e._fcl){e._fcl=a._fcl}if(!e._fn){e._fn=a._fn}g.style.color=e._fcl;g.style.font=e._fn}}}function _stn_(a,d){if(d===null){var c=null}else{var c=a.getRootNode().findChild("id",d,true)}var e=a.selModel,b=a.frmhidden;if(b){b.setValue(d);b.submittedValue=b.originalValue=d}if(!e.uniSuspendedEvents){e.uniSuspendedEvents={}}e.uniSuspendedEvents.selectionchange=true;try{if(c===null){e.deselectAll()}else{e.select(c)}}finally{e.uniSuspendedEvents.selectionchange=false}}function _cnf_(a,e,d,c,b){var f=a.store.getNodeById(e);if(f){if(f[d]){f[d](c,b)}}}function _snatr_(b,c,a,e){var d=b.store.getNodeById(c);if(d){d.set(a,e);d.commit()}}function _srd_(b,f,c,e,a){var d=b.getAt(f);if(d){if(e===null){d.data=[" "]}else{d.set(c,e);d.set("_"+c,a);if(a!=""){d.set("_x",1)}}d.commit()}}function _axy_(d){var a=false;if(d&&d.getPosition){var c=d.getPosition();if(c[0]<0){a=true;c[0]=0}if(c[1]<0){a=true;c[1]=0}if(a){d.setPosition(c[0],c[1])}}}function _gcdi_(a,b){var c=null;if(a.getCachedColumns){c=a.getCachedColumns()}else{if(a.getCurrentPosition){a=a.getCurrentPosition()}}if(c==null){if(a.view&&a.view.getCachedColumns){c=a.view.getCachedColumns()}}if(c){return parseInt(c[b].dataIndex)}return b}function _ccell_(d){var c=d;var a=c.selection;var b=c.grid;if(!a){a=c.nextSelection}if(a&&b){if(a.row===b.uniRow&&a.column===b.uniCol){return true}b.uniRow=a.row;b.uniCol=a.column}return false}function _fccp_(e,b,h,k){function j(n,m,i,l){var g=false;if(n){Ext.Array.each(n,function(o){if(o.dataIndex!=""&&o.dataIndex==m){g=true;if(i){i.index=n.indexOf(o);i.grid=l}return false}})}return g}var a=[e,e.normalGrid,e.lockedGrid],f=false;if(k){if(e.getColumnManager){c=e.getColumnManager().getColumns()}else{c=e.getGridColumns()}f=j(c,b,h,e);if(f){return true}}else{for(var d=0;d<a.length;d++){if(a[d]&&a[d].view&&a[d].view.getCachedColumns){var c=a[d].view.getCachedColumns();f=j(c,b,h,a[d]);if(f){return true}}}}return false}function _hge_(a){p=a.getPlugin("uniGridEditor");if(p&&p.editor){p.editor.canhide=true;p.editor.hide()}}function _ggp_(c,b,a,e){var d=null;if(_fccp_(c,b,a,e)){d=a.grid.getPlugin("uniGridEditor")}return d}function _cgms_(a){if(a.maskActive){a.hideMask(true)}}function _cgre_(a,b){var c=a.getPlugin("uniGridEditor");if(c&&c.cancelEdit){if(b){c.suspendEvent("canceledit")}try{c.cancelEdit()}finally{if(b){c.resumeEvent("canceledit")}}}}function _sge_(e,k,c,j){var b=uniVars._actCnt,f={},h=b&&b.isXType&&b.isXType("grid"),i=b&&(h||b.isFormField);var d=uniVars._actFrm_;if(!h&&b){h=b.verticalGrid}if(e.notSynced){k=e.store.getAt(k)}if(d&&e.uform&&(e.uform!==d)){return}if(e.selModel&&e.selModel.isRowModel){_gsr_(e.selModel,k)}if(!i||b==e){uniVars._actCnt=e;var a=_ggp_(e,c,f,j);if(a){a.startEdit(k,f.index)}}else{if(!h&&b&&b.focus){b.focus()}}}function _flc_(){var a=uniVars._actCnt;if(a&&a.focus){a.focus()}}function _gsc_(c,k,b){if(c.setCurrentPosition){try{if(k==undefined){c.setCurrentPosition()}else{var h={};if(_fccp_(c.grid,b,h)){b=h.index}try{if(c.grid&&!c.grid.rendered){c.grid.pendingPos={row:k,column:b}}else{var a=c.lastSelectedRec;if(!a||(a.row===k&&a.column===b)){c.deselectAll(true)}c.lastSelectedRec={row:k,column:b};if(c.grid.notSynced===true){var d=c.grid.store.getAt(k);if(d){c.suspendEvent("select");try{c.select({row:d,column:b})}finally{c.resumeEvent("select")}}}else{c.setCurrentPosition(c.lastSelectedRec,true);var f=c.grid;if(f.lockedGrid){f=f.lockedGrid}var j=f.getView();if(j&&j.scrollRowIntoView){j.scrollRowIntoView(c.lastSelectedRec.row)}}}}catch(i){Ext.Msg.show({title:"Error",msg:"Could not set cell position: row: ["+k+"], column:["+b+"] :"+i.message,buttons:Ext.MessageBox.OK})}}}finally{if(c.grid){c.grid.focusDisabled=false;c.grid.uniRow=k;c.grid.uniCol=b;if(c.grid.hidField){_src_(c.grid.hidField,k,b,true)}}}}if(k!=undefined){_flc_()}}function _gsr_(b,a){_ssevt_(b,"selectionchange",true);try{b.select(a)}finally{_ssevt_(b,"selectionchange",false);if(b.grid){b.grid.focusDisabled=false;if(b.grid.hidField){_src_(b.grid.hidField,a,null,true)}}}if(a!=undefined){_flc_()}}function _cge_(b){var a;if(b.selModel){b=b.selModel}if(b&&b.grid){if(b.grid.plugins){a=b.grid.getPlugin("uniGridEditor");if(a&&a.editing&&!a.isRowEditor){a.completeEdit()}return}if(b.grid.lockedGrid&&b.grid.lockedGrid.plugins){a=b.grid.lockedGrid.getPlugin("uniGridEditor");if(a&&a.editing&&!a.isRowEditor){a.completeEdit()}}if(b.grid.normalGrid&&b.grid.normalGrid.plugins){a=b.grid.normalGrid.getPlugin("uniGridEditor");if(a&&a.editing&&!a.isRowEditor){a.completeEdit()}}}}Ext.override(Ext.grid.column.Column,{checkColumn:false,checkClick:function(sender,col,rr,cc,recId){if(typeof this.ogrid=="string"){this.ogrid=eval(this.ogrid)}var gg=this.ogrid;if(gg&&gg.dirtyRow){if(gg.dirtyRow.row!=rr){return false}}if(typeof cc=="string"){cc=parseInt(cc)}var record=this.ogrid.store.getById(recId),cb=!record.get(this.dataIndex);record.set(this.dataIndex,cb);if(!this.stopSelection&&col&&col.myview){var sl=col.myview.selModel;if(sl){if(sl.isRowModel){sl.select([record])}else{sl.select({row:record,column:cc})}}}var e={grid:this.ogrid,record:record,value:cb,originalValue:!cb,rowIdx:rr+2147483648,colIdx:cc,column:this};this.ogrid.fireEvent("cellclick",this.ogrid,null,this.dataIndex,e.record,null,e.rowIdx);this.ogrid.fireEvent("edit",this.ogrid,e);return true}});Ext.define("Ext.grid.column.vertColumn",{extend:"Ext.grid.column.Column",vertCol:true,getEditor:function(a){var d=this.ogrid,b=a.data._d,e=this,f=null;var h=findVirtualCol(d.dbColumns,b);if(h){if(h.rdonly||h.unEditable){return null}f=h.editor;if(!(f instanceof Ext.grid.CellEditor)){var g=new Ext.grid.CellEditor({field:f});f=g;f.editorId="idx_"+h.nm;h.editor=f}}return f}});function _ce_(f){var h=f.column;if(h){if(h.checkColumn){return false}if(h.vertCol){var d=f.record,b=h.ogrid,a=null;if(d&&b){a=findVirtualCol(b.dbColumns,d.data._d)}if(a&&a.rdonly){return false}}else{var d=f.record;if(d.data._nd===true){return false}}}return true}function _ae_(c){if(c.record&&c.record.dirty){var b=c.grid;if(b&&b.hidField==undefined){b=b.ownerCt}var a=true;if(a||c.column.checkColumn){if(b&&b.hidField&&!b.verticalGrid){b.dirtyRow={row:b.hidField.currRow,rec:c.record}}}}}function _pd_(a){return(Ext.Date.parse(a,"YmdHis"))}function is_input(a){return(a=="text")||(a=="textarea")||(a=="submit")||(a=="password")}function is_readonly(a){if(a){return(a.readOnly)}return false}function _keyMon_(b,j,c){var e=null;var k=uniVars._actFrm_;var d=false;if(k&&k.mKeys&&k.mKeys.e){e=k.mKeys}else{e=uniVars.mKeys}if(e&&e.e){if(e.ea){j.h=(e.ha!==false);d=true}for(var f=0;f<e.a.length;f++){var l=e.a[f];if(c){var g=l.cs;var h=l.ce}else{var g=l.ks;var h=l.ke}if(!h){h=g}if(g&&h){if(b>=g&&b<=h){j.h=(l.h!==false);return true}}}return d}return true}function _prkeyd_(o,h,q,d,c,g,j){var l={h:true};var k=g&&(h==9);if(uniSyncObj._globalKbEn===false){return false}if(uniVars._actFrm_){var n=uniVars._actFrm_;if(n.keyprv||!is_input(o)){if(_keyMon_(h,l)){if(d){n.fireEvent("keyup",uniVars._actFrm_,h,q)}else{n.fireEvent("keydown",uniVars._actFrm_,h,q)}}}if(!d){var b=null;if(n.gNavigate&&n.gNavigate.e){b=n.gNavigate}else{b=uniVars.gNavigate}if(b&&(k||b.e)){if(b.gs&&h==b.gs.k&&q==b.gs.s){n.fireEvent("submit",uniVars._actFrm_);if(b.gs.h!==true){return false}else{return true}}else{if(b.gc&&h==b.gc.k&&q==b.gc.s){n.fireEvent("cancel",uniVars._actFrm_);if(b.gc.h!==true){return false}else{return true}}}if(n.activeField){var i=n.activeField;if(i.focusDisabled!==true){if((k||b.t)&&h==9&&q==0){var m=true}else{if((k||b.t)&&h==9&&q==1){var a=true}}if(a||b.gp&&h==b.gp.k&&q==b.gp.s){if(j){j.stopEvent()}i.uniSelectNext(i,false,b.c,b.st);if(a||b.gp.h!==true){return false}}else{if(m||b.gn&&h==b.gn.k&&q==b.gn.s){if(j){j.stopEvent()}i.uniSelectNext(i,true,b.c,b.st);if(m||b.gn.h!==true){return false}}}}}}}}if(uniVars._docKeys_.all){return false}if(uniVars._docKeys_.tab&&h==9){return false}if(uniVars._docKeys_.ESC&&h==27){return false}if(uniVars._docKeys_.F5&&h==116){return false}if(uniVars._docKeys_.BS&&h==8){if(is_readonly(c)){return false}if(!is_input(o)){return false}}if(l.h!==true){return false}return true}function _ctu_(a,c){var b=String.fromCharCode(a);if(c){encoder=encodeURIComponent;return(encoder(b))}else{return b}}function _gkp_(b,a){if(b&&b.getCharCode){return(_ctu_(b.getCharCode(),true))}if(a&&a.getCharCode){return(_ctu_(a.getCharCode(),true))}return null}function _prkeyp_(c,d){var b={h:true};if(uniVars._actFrm_){if(uniVars._actFrm_.keyprv||!is_input(c)){var a=_ctu_(d);if(_keyMon_(a,b,true)){uniVars._actFrm_.fireEvent("keypress",uniVars._actFrm_,_ctu_(d,true))}}}if(b.h!==true){return false}return true}function _cwk_(){document.oncontextmenu=function(){if(uniVars._docKeys_.rClick){return false}return true};if(typeof window.event!="undefined"){document.onkeydown=function(){var c=event.srcElement;var b=c.type;var a=event.keyCode;return _prkeyd_(b,a,_pss_(event),false,c)};document.onkeypress=function(){var b=event.keyCode;var a=event.srcElement.type;return _prkeyp_(a,b)};document.onkeyup=function(){var c=event.srcElement;var b=c.type;var a=event.keyCode;return _prkeyd_(b,a,_pss_(event),true,c)}}else{document.onkeydown=function(d){var c=d.target;var b=c.type;var a=d.keyCode;return _prkeyd_(b,a,_pss_(d),false,c)};document.onkeypress=function(c){var b=c.target;var d=c.charCode||c.keyCode;var a=b.type;return _prkeyp_(a,d)};document.onkeyup=function(d){var c=d.target;var b=c.type;var a=d.keyCode;return _prkeyd_(b,a,_pss_(d),true,c)}}Ext.EventManager.addListener(document,"mousemove",function(a){if(uniVars._mouseMove_){a.preventDefault();var b=Ext.EventManager.getPageXY(a);uniVars._mouseMove_.apply(uniVars._mouseThis_,[b[0],b[1]]);return false}return true});Ext.EventManager.addListener(document,"mouseup",function(a){if(uniVars._mouseUp_){try{a.preventDefault();var b=Ext.EventManager.getPageXY(a);uniVars._mouseUp_.apply(uniVars._dragThis_,[b[0],b[1]])}finally{uniVars._mouseThis_=null;uniVars._mouseUp_=null}}return true})}function _dko_(a){if(a){uniVars._docKeys_=a}}function _sdf_(a){if(a&&a.uform){if(uniVars._actFrm_==a.uform){uniVars._actFrm_=uniVars._mFrm_}}}function _saf_(a){if(a&&a.uform){uniVars._actFrm_=a.uform}}function _sdrg_(b,a){if(b.dd){if(a){if(b.dd.enable){b.dd.enable()}else{if(b.dd.unlock){b.dd.unlock()}}}else{if(b.dd.disable){b.dd.disable()}else{if(b.dd.lock){b.dd.lock()}}}}}Ext.define("Ext.uni.Splitter",{extend:"Ext.container.Container",orientation:"",minSize:0,monitorUniEvents:true,_down:false,_moved:false,_vert:false,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",initComponent:function(){this.callParent(arguments);if(this.orientation=="n"||this.orientation=="s"){this._vert=true}},getNewPos:function(a,g){var c=null;if(this.ownerCt){var f=this.ownerCt.getPosition();if(this._vert){c=g-f[1]}else{c=a-f[0]}var b=this.minSize;if(this.orientation=="w"){b=this.ownerCt.getWidth()-b;if(c>b){c=b}}else{if(this.orientation=="n"){b=this.ownerCt.getHeight()-b;if(c>b){c=b}}else{if(c<b){c=b}else{if(this._vert){var d=this.ownerCt.getHeight()-5;if(c>d){c=d}}else{var e=this.ownerCt.getWidth()-5;if(c>e){c=e}}}}}if(c<0){c=0}}return(c)},setHandlePos:function(b){var a=this.ownerCt.getPosition();if(this._vert){this.hhandle.setY(b+a[1]-1)}else{this.hhandle.setX(b+a[0]-1)}},setNewPos:function(a){if(this._vert){this.setPosition(undefined,a)}else{this.setPosition(a)}},createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"});a.unselectable();a.setSize(Ext.Element.getViewWidth(true),Ext.Element.getViewHeight(true));a.dom.style.cursor=this.el.dom.style.cursor;a.dom.style.zIndex=2000000;a.show()},createDragHandle:function(){var a;a=this.hhandle=Ext.getBody().createChild({html:"&#160;"});a.unselectable();if(this._vert){a.setSize(this.getWidth(),this.getHeight()+2)}else{a.setSize(this.getWidth()+2,this.getHeight())}var b=this.getPosition();a.setXY(b);a.addCls([Ext.baseCSSPrefix+"splitter",Ext.baseCSSPrefix+"splitter-active"]);a.dom.style.zIndex=1000000;a.show()},dragMove:function(a,c){if(this.getXType){if(!this._moved){this.createDragHandle()}this._moved=true;var b=this.getNewPos(a,c);if(b!==null){this.setHandlePos(b)}}},dragEnd:function(a,e){var d=this;if(d.overlay){d.overlay.remove();delete d.overlay}if(d.hhandle){d.hhandle.remove();delete d.hhandle}if(d.getXType&&d._moved&&d._down){var c=d.getNewPos(a,e);if(c!==null){if(d.rtl&&!d._vert){var b=this.ownerCt.getWidth();c=b-c}d.setNewPos(c);d.fireEvent("moved",d,c)}}},do_mousedown:function(d,c,e,a){d.preventDefault();if(!this._down){this._down=true;this.createDragOverlay();Ext.EventManager.addListener(this.overlay,"mousemove",function(b){if(this.getXType&&this._down){var f=Ext.EventManager.getPageXY(b);this.dragMove(f[0],f[1])}},this);Ext.EventManager.addListener(this.overlay,"mouseup",function(b){try{var f=Ext.EventManager.getPageXY(b);this.dragEnd(f[0],f[1])}finally{this._moved=false;this._down=false}},this)}}});Ext.define("Ext.panel.HTML",{extend:"Ext.panel.Panel",first:true,update:function(){this.callParent(arguments);if(this.first&&this.rendered){this.first=false;var a=this.getSize();if(a.width&&a.height){this.setSize(a.width-1,a.height-1);a=this.getSize();this.setSize(a.width+1,a.height+1)}}this.fireEvent("afterupdatehtml",this)}});Ext.override(Ext.container.Container,{addDocked:function(a,b){alert("TUniContainerPanel.addDocked(): Capability not implemented. Use TUniPanel or TUniSimplePanel instead.")}});Ext.override(Ext.form.field.Base,{onChange:function(){this.callParent(arguments);var a=_gmo_(this);if(a.isSuspended&&!a.isSuspended("change")){_hed_(a)}},getErrors:function(b){var a=this,d=a.callParent(arguments),c=a.getValue();if(a.uniFmtObj){if(a.minValue!==undefined){if(c<a.minValue){d.push("-")}}if(a.maxValue!==undefined){if(c>a.maxValue){d.push("+")}}}return d},getValue:function(){var a=this,b=a.callParent(arguments);if(a.uniFmtObj){b=cnv2number(b,a.uniFmtObj.aDec,a.uniFmtObj.aSep)}return b},updateNumericFormat:function(b){var a=this;if(a.uniFmtObj){a.uniFmtObj=b;$("#"+a.id+"-inputEl").autoNumeric("update",a.uniFmtObj)}},setValue:function(b){var a=this;a.callParent(arguments);if(a.uniFmtObj){$("#"+a.id+"-inputEl").autoNumeric("set",b)}return a},uniOnChange:function(){var c=this,a=c.lastValue,b=null;if(Ext.isDate(a)){b=c.getValue()}else{b=(c.getRawValue?c.getRawValue():c.getValue())}if(!c.isEqual(b,a)&&!c.isDestroyed){_hed_(this)}},addManagedListener:function(f,b,d,c,a,g){var e=this;this.callParent(arguments);if(typeof b=="object"){return}if(e.nm&&d==e.onChangeEvent){e.onChangeEventHooked=true;if(b!="propertychange"){e.addManagedListener(f,b,e.uniOnChange,this)}}}});Ext.override(Ext.util.Observable,{fireEvent:function(a,b){var c=this;if(c.uniSuspendedEvents===true){return}if(c.uniSuspendedEvents&&c.uniSuspendedEvents[a]===true){return}return this.callParent(arguments)}});Ext.override(Ext.data.TreeStore,{indexOf:function(a){if(a&&a.data){return a.getId()}else{return 0}},getAt:function(a){var b=this;return b.getNodeById(a)}});Ext.override(Ext.form.RadioGroup,{setValue:function(b){if(Ext.isObject(b)){for(var a in b){if(b[a]==-1){Ext.Array.each(this.items.items,function(c){c.setValue(false)});return this}break}}return this.callParent(arguments)},skipMe:function(){var a=this;if(a.items&&!a.items.items.length){return true}return false},focus:function(d,a,e,b){var c=this;if(c.items&&c.items.items.length&&c.items.items[0].focus){c.items.items[0].focus(d,a,e,b)}else{return c.callParent()}}});Ext.override(Ext.form.field.HtmlEditor,{cTask:null,onChange:function(){this.callParent(arguments);if(this.isSuspended&&!this.isSuspended("change")){_hed_(this)}},setValue:function(a){this.callParent(arguments)},checkChange:function(a){if(a===true||this.checkChangeBuffer==undefined){this.callParent();return}if(this.cTask==null){this.cTask=new Ext.util.DelayedTask(function(){this.checkChange(true)},this)}this.cTask.delay(this.checkChangeBuffer)}});Ext.override(Ext.menu.Item,{setIcon:function(b){var a=this.iconEl,c=this.icon;if(a){a.dom.src=b||Ext.BLANK_IMAGE_URL}this.icon=b;this.fireEvent("iconchange",this,c,b)}});Ext.override(Ext.Component,{uniAfterCreate:function(){this.elArray=[];if(!this.uniHasEvent){this.uniHasEvent=[]}this.uniCheckEvent("mouseover");this.uniCheckEvent("mouseout");this.uniCheckEvent("mousedown");this.uniCheckEvent("mouseup");this.uniCheckEvent("mousemove");this.uniCheckEvent("click");this.uniCheckEvent("dblclick");this.__X=-1;this.__Y=-1},uniCheckEvent:function(a){if(this.events[a]===true){this.uniHasEvent[a]=true}},uniSelectFirst:function(a){return this.uniSelectNext(undefined,undefined,undefined,a)},uniSelectNext:function(a,u,k,n){if(this.uform){var t=this.uform,r=0,w=-1,i=-1,o=-1,j=-1,b=-1,s=1000000,g="",e="",q=true,h=0;if(u===false){q=u}if(a){if(a.uTabIndex){r=a.uTabIndex}g=a.Id1;e=a.Id2;if(g&&uniVars._actPge_.Id1&&g===uniVars._actPge_.Id1&&e!==uniVars._actPge_.Id2){return this.uniSelectFirst(n)}}if(!g){g=uniVars._actPge_.Id1}if(!e){e=uniVars._actPge_.Id2}if(t){t.tabItems.each(function(d,x){if(d.uTabIndex){if(g===d.Id1&&d.Id2!==e){return true}if(d.isVisible&&d.isVisible()==false){return true}if(d.isDisabled&&d.isDisabled()==true){return true}if(d.skipMe&&d.skipMe()==true){return true}var c=d.ownerCt;while(c){if(c.isDisabled()==true){return true}if(c.isVisible()==false){return true}c=c.ownerCt}var f=d.uTabIndex;h=r-f;if(q){h=-h}if(i==-1||i>f){i=f;o=x}if(j<f){j=f;b=x}if(h>0&&h<s){s=h;w=x}}return true});if(w==-1&&k){if(q){w=o}else{w=b}}if(w>=0){var v=t.tabItems.get(w);if(v.focus){_ffc_(v,n,10);if(a){var m=a.getFocusEl(),l=a.focusCls;if(m&&l){m.removeCls(a.removeClsWithUI(l,true))}}}}}}return w},onBlur:function(b){var a=this;a.callParent(arguments);if(a.uniBlurChanged&&a.trackBlurChange){a.uniBlurChanged=false;ajaxRequest(a,"blurchange")}},addToTab:function(a){if(this.uform){if(a){this.uTabIndex=a}if(this.uform.tabItems.indexOf(this)==-1){this.uform.tabItems.add(this.id,this)}}},ismon:function(b){if(this.mons){for(var a=0;a<this.mons.length;a++){if(this.mons[a].ename==b){return(true)}}}return(false)},unimon:function(b,a,c){if(this.uniHasEvent[b]===true){return}if(this.events[b]===true){return}if(c&&this[c]){return}if(this.ismon(b)==false){this.addEvents(b);this.mon(this.el,b,a,this)}},initUniEvents:function(){if(this.monitorUniEvents){this.unimon("mouseover",this.ev_mouseover,"onMouseOver");this.unimon("mouseout",this.ev_mouseout,"onMouseOut");this.unimon("mousedown",this.ev_mousedown);this.unimon("mouseup",this.ev_mouseup);this.unimon("mousemove",this.ev_mousemove);this.unimon("click",this.ev_click,"onClick");this.unimon("dblclick",this.ev_dblclick)}},uniGetXY:function(f){var d=this.__X=d;var c=this.__Y=c;var a=f.button;if(f.browserEvent.touches){var e=f.browserEvent;if(e.targetTouches&&e.targetTouches[0]){var g=this.getPosition();d=e.targetTouches[0].pageX-g[0];c=e.targetTouches[0].pageY-g[1]}}else{var g=this.getPosition();d=f.getX()-g[0];c=f.getY()-g[1]}this.__X=d;this.__Y=c;return({x:d,y:c,b:a})},do_mouseover:function(a){this.fireEvent("mouseover",this)},do_mouseout:function(a){this.fireEvent("mouseout",this)},do_mousedown:function(d,c,e,a){this.fireEvent("mousedown",this,c,e,a)},do_mouseup:function(d,c,e,a){this.fireEvent("mouseup",this,c,e,a)},do_mousemove:function(d,c,e,a){this.fireEvent("mousemove",this,c,e,a)},ev_mouseover:function(a){if(!this.disabled){this.do_mouseover(a)}},ev_mouseout:function(a){if(!this.disabled){this.do_mouseout(a)}},ev_mousedown:function(a){if(!this.disabled){var b=this.uniGetXY(a);this.do_mousedown(a,b.x,b.y,b.b)}},ev_mouseup:function(a){if(!this.disabled){var b=this.uniGetXY(a);this.do_mouseup(a,b.x,b.y,b.b)}},ev_mousemove:function(a){if(!this.disabled){var b=this.uniGetXY(a);this.do_mousemove(a,b.x,b.y,b.b)}},ev_click:function(a){if(!this.disabled){this.fireEvent("click",this)}},ev_dblclick:function(a){if(!this.disabled){this.fireEvent("dblclick",this)}},endDrag:function(){var a=this.getPosition(true);this.fireEvent("enddrag",this,a[0],a[1])}});Ext.override(Ext.panel.DD,{endDrag:function(){this.callParent();var a=this.panel.getPosition(true);this.panel.fireEvent("enddrag",this,a[0],a[1])}});Ext.override(Ext.grid.feature.Summary,{getSummary:function(b,c,e,d){var a=d.records;if(c){if(Ext.isFunction(c)){return b.getAggregate(c,null,a,[e,this])}}return this.callParent(arguments)}});Ext.override(Ext.form.field.Text,{initComponent:function(){var a=this;a.callParent();a.on("afterrender",function(b){if(b.uniInpMaskObj){$("#"+b.id+"-inputEl").inputmask(b.uniInpMaskObj)}if(b.uniFmtObj){$("#"+b.id+"-inputEl").autoNumeric("init",b.uniFmtObj)}},a)},onKeyDown:function(b){this.callParent(arguments);var a=b.getKey();if(a==b.TAB){_prkeyd_("text",a,_pss_(b),false,null,false,b)}}});function showBrowserWarning(a){if(Ext.isIE&&(!document.documentMode||document.documentMode<9)){Ext.Msg.show({title:"Warning",msg:a,buttons:Ext.MessageBox.OK})}}Ext.define("Ext.form.field.Dummy",{extend:"Ext.form.field.Display",alias:"widget.dummyfield",valBool:undefined,setValue:function(a){this.valBool=a;this.callParent(arguments)},getValue:function(){if(this.column&&this.column.checkColumn){return this.valBool}return null}});Ext.define("Ext.panel.iframe",{extend:"Ext.panel.Panel",mixins:["uniIFrame"],onRender:function(){this.callParent(arguments);var a={run:function(){if(this.iframe){var b=this.getDoc();if(b.body||b.readyState=="complete"){Ext.TaskManager.stop(a);Ext.defer(this.initEditor,10,this)}}},interval:25,duration:15000,scope:this};Ext.TaskManager.start(a)}});function createMask(a){return new Ext.LoadMask(a)}Ext.override(Ext.grid.RowEditor,{cancelEdit:function(){this.canhide=true;this.callParent(arguments)},initComponent:function(){this.callParent(arguments);this.form.isValid=function(){return true}}});Ext.override(Ext.grid.plugin.RowEditing,{initEditorConfig:function(){var a=this.callParent(arguments);return Ext.apply(a,this.editorCfg)},startEdit:function(){if(this.editor){this.editor.canhide=false}return this.callParent(arguments)}});function _ifrm_(c){function b(k){var h="";k=k.dom;if(k){try{var j=k.contentWindow.document||k.contentDocument||window.frames[k.id].document;if(j){if(Ext.isOpera&&j.location=="about:blank"){return}if(j.body){if((contentNode=j.body.firstChild)&&/pre/i.test(contentNode.tagName)){h=contentNode.textContent}else{if((contentNode=j.getElementsByTagName("textarea")[0])){h=contentNode.value}else{h=j.body.textContent||j.body.innerText}}}}if(h&&h!=""){var g="___BASE64___";if(h.indexOf(g)===0){var f=h.substring(g.length);f=f.replace(/(\r\n|\n|\r)/gm,"");var f=atob(f);h=decodeURIComponent(f)}AjaxSuccess({responseText:h})}}catch(i){var d="";if(h&&h!=""){d=h}AjaxError(i.message,d)}}}var a=Ext.DomHelper.append(document.body,{tag:"iframe","class":"x-hidden",id:c,name:c,frameBorder:0,width:0,height:0,css:"zIndex:-1000;display:none;visibility:hidden;position:absolute;width:0px;height:0px;",src:Ext.SSL_SECURE_URL},true);Ext.fly(a).on("load",Ext.Function.bind(b,this,[a]))}function _injic_(c,d,b){function a(f){var h=f.el.down(d);if(h){var g=document.createElement("img");g.src=b;h.dom.appendChild(g)}}if(c.rendered){a(c)}else{c.on("afterrender",a,c)}}function _fixmultis_(a){if(a.selModel&&a.selModel.keyNav){a.selModel.keyNav.map.bindings.forEach(function(b){if(b.key=="A"&&b.ctrl){b.handler=function(){if(a.selModel.selectionMode=="MULTI"){a.selModel.selectAll()}}}})}}Ext.override(Ext.form.field.Hidden,{eSetValue:function(a){return this.setValue(eventDLM+a+eventDLM)}});